= Changelog

All notable changes to this project will be documented in this file.

The format is based on https://keepachangelog.com/en/1.0.0/[Keep a Changelog], and this project adheres to https://semver.org/spec/v2.0.0.html[Semantic Versioning].

NOTE: ðŸ”¥ = breaking change

== [Unreleased]

This is the initial release after forking from Flyway 7.15 (the "community" version, obviously) and applying all 8.x bug fixes up to commit 77bb799. Since the forked project has never published any test sources, test coverage may seem a little underwhelming.
It will get better in time.

This is an early access 0.x release, which means *everything* is subject to change.
Feedback is very welcome!

=== Added

* This changelog ðŸ˜€
* Streaming for script resources.
* Support for cherry picking migration versions.
* Support for pattern-based ignored migration versions.
* Maven plugin for build-time class path scanning.
* Gradle plugin for build-time class path scanning.
* ðŸ”¥ Simplified configuration of extensions via setExtensionConfig() or text-based properties.
* Unit tests for most changed/refactored code, especially configuration-related stuff.
* A few integration tests for databases where a docker container is publicly available.
* Builds should now be reproducible.

=== Changed

* ðŸ”¥ Renamed occurrences of "Flyway" to "MigrateDb".
* ðŸ”¥ Changed package name from org.flywaydb to migratedb.
* ðŸ”¥ Runtime class path scanning replaced with build-time scanning.
* Moved built-in features (database types) back into core artifact.
* ðŸ”¥ Extensions now contribute features via the MigrateDbExtensions interface.
* ðŸ”¥ Promoted some internal API like DatabaseType to public API since the extension API exposed those types anyway.
* ðŸ”¥ The "symbolic" migration versions (current, latest, next) are no longer instances of MigrationVersion, they have been moved to the new TargetVersion.
* ðŸ”¥ You can no longer pass Long.MAX_VALUE to MigrationVersion.fromString() to receive LATEST.
* ðŸ”¥ MigrationInfo no longer implements Comparable.
* ðŸ”¥ MigrationInfoImpl no longer overrides Object.equals.
* ðŸ”¥ No longer try to invoke inaccessible constructors when instantiating a class by name.
* ðŸ”¥ Class path locations (e.g. "classpath:db/migrate") now expect index files generated by build-time scanners.
* Logging during MigrateDB execution is disabled by default, can be changed via "logger" configuration option.
* By default, logging outside of MigrateDB execution is silenced.
Can be changed by application code via Log.setDefaultLogSystem().
* Configuration code that is specific to command line stuff has been moved to CLI artifact.
* Updated some driver versions that ship with the CLI artifact.
* ðŸ”¥ CLI no longer bundles a whole JDK.
* Un-deprecated ignore***Migrations() configuration options.
* Converted README to Asciidoc.

=== Deprecated

* License key configuration option (you will never ever need one!)

=== Removed

* Notion of "community/enterprise/trial/teams/pro" versions.
* ðŸ”¥ Options and checks related to "teams-only" features.
* Advertisements and nag messages.
* ðŸ”¥ Brittle runtime class path scanning heuristics.
* ðŸ”¥ Side-effects caused by SPI jars on class path.
Extensions must be activated in configuration via useExtension().
* Dependencies on native libraries.
* Colored console output.
* Telemetry via "update check".
* ðŸ”¥ Maven plugin(s) for executing migrations, etc.
* ðŸ”¥ Gradle plugin(s) for executing migrations, etc.
* ðŸ”¥ Explicit support for log4j2 (just use its SLF4 binding?)
* ðŸ”¥ The "empty" migration version.

=== Fixed

* Custom logging configuration is now only active while MigrateDB actually executes and no longer mutates global state.
* No longer swallows InterruptedException without re-interrupting the current thread.

=== Security

No items.
