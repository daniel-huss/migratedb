= Changelog

All notable changes to this project will be documented in this file.

The format is based on https://keepachangelog.com/en/1.0.0/[Keep a Changelog], and this
project adheres to https://semver.org/spec/v2.0.0.html[Semantic Versioning].

NOTE: ðŸ”¥ = Breaking Change

== [Unreleased]

This is the initial release after forking from Flyway 7.15 (the "community" version, obviously)
and applying all 8.x bug fixes up to commit 77bb799. Since the forked project has never
published any test sources, test coverage may seem a little underwhelming. It will get better
with every following release.

This is an early access 0.x release, which means *everything* is subject to change.
Feedback is very welcome!

=== Added

* This changelog ðŸ˜€
* Support for streaming script resources.
* Support for baseline migrations.
* Support for cherry picking migration versions.
* Support for pattern-based ignored migration versions.
* Support for JDBC batched queries.
* Maven plugin for build-time class path scanning.
* Gradle plugin for build-time class path scanning.
* Unit tests for most changed/refactored code, especially configuration-related stuff.
* A few integration tests for databases where a docker container is publicly available.
* Builds should now be reproducible.

=== Changed

* ðŸ”¥ Renamed ALL occurrences of "Flyway" to "MigrateDb" (and "flyway" to "migratedb") in both code and config.
* ðŸ”¥ Changed package name from org.flywaydb to migratedb.
* ðŸ”¥ The minimum JRE version is 11 (previous LTS).
* ðŸ”¥ Runtime class path scanning replaced with build-time scanning.
* Moved built-in features (database types) back into core artifact.
* ðŸ”¥ Extensions now contribute features via the MigrateDbExtensions interface.
* ðŸ”¥ Promoted some internal API like DatabaseType to public API since the extension API exposed
those types anyway.
* ðŸ”¥ Classes that are not meant to be subclassed are final.
(Well, some of them)
* ðŸ”¥ Simplified configuration of extensions via setExtensionConfig() or text-based properties.
* ðŸ”¥ Renamed LoadableResource to Resource and changed the resource API.
* ðŸ”¥ The "symbolic" migration versions (current, latest, next) are no longer instances of
MigrationVersion, they have been moved to the new TargetVersion.
* ðŸ”¥ You can no longer pass Long.MAX_VALUE to MigrationVersion.fromString() to receive LATEST.
* ðŸ”¥ MigrationInfo no longer implements Comparable.
* ðŸ”¥ MigrationInfoImpl no longer overrides Object.equals.
* ðŸ”¥ No longer try to invoke inaccessible constructors when instantiating a class by name.
* ðŸ”¥ Class path locations (e.g. "classpath:db/migrate") now expect index files generated by
build-time scanners.
* Logging during MigrateDB execution is disabled by default, can be changed via "logger"
configuration option.
* Custom logging configuration is now only active while MigrateDB actually executes and no longer
mutates global state. Afaik there is no mutable global state in the library now.
* By default, logging outside of MigrateDB execution is silenced.
Can be changed by application code via Log.setDefaultLogSystem().
* Configuration code that is specific to command line stuff has been moved to CLI artifact.
* Updated some driver versions that ship with the CLI artifact.
* ðŸ”¥ CLI no longer bundles a whole JDK.
* Un-deprecated ignore***Migrations() configuration options.
* Converted README to Asciidoc.
* Built-in script placeholder migratedb:timestamp now formatted as ISO-8601 instant.

=== Deprecated

* License key configuration option (you will never ever need one!)

=== Removed

* Notion of "community/enterprise/trial/teams/pro" versions.
* ðŸ”¥ Options and checks related to "teams-only" features.
* Advertisements and nag messages.
* ðŸ”¥ Brittle runtime class path scanning heuristics.
* ðŸ”¥ Side-effects caused by SPI jars on class path.
Extensions must be activated in configuration via useExtension().
* Dependencies on native libraries along with colored console output.
* Telemetry via "update check".
* ðŸ”¥ Maven plugin(s) for executing migrations, etc. (just script it!).
* ðŸ”¥ Gradle plugin(s) for executing migrations, etc. (just script it!).
* ðŸ”¥ Explicit support for log4j2 (just use its SLF4 binding?).
* ðŸ”¥ The "empty" migration version.

=== Fixed

* No longer swallows InterruptedException without re-interrupting the current thread.

=== Security

No items.
