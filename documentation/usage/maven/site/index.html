<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/markdown/index.md.vm at 2023-09-29

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>MigrateDB - Maven Plugin &#x2013; Introduction</title>
    <link rel="stylesheet" href="./css/maven-base.css" />
    <link rel="stylesheet" href="./css/maven-theme.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<div id="bannerLeft">MigrateDB - Maven Plugin
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
          <span id="publishDate">Last Published: 2023-09-29</span>
          | <span id="projectVersion">Version: 0.3.0</span>
      </div>
      <div class="xright">      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Overview</h5>
    <ul>
     <li class="none"><strong>Introduction</strong></li>
     <li class="none"><a href="plugin-info.html" title="Goals">Goals</a></li>
    </ul>
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
<section>
<h2><a name="Introduction"></a>Introduction</h2>
<p>In MigrateDB, runtime class path scanning has been replaced with build-time scanning.</p>
<p>This plugin provides the scanning capability for the Maven build system via the <code>migratedb:scan</code> goal. A Gradle plugin is also available.</p></section><section>
<h2><a name="Usage_examples"></a>Usage examples</h2>
<p>To scan the output of the current artifact when your migrations reside in <code>db/migration</code>:</p>

<div class="source">
<pre><code class="language-xml">&lt;plugin&gt;
    &lt;groupId&gt;de.unentscheidbar&lt;/groupId&gt;
    &lt;artifactId&gt;migratedb-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;0.3.0&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;goals&gt;
                &lt;goal&gt;scan&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
</code></pre></div>
<hr />

<p>A more complex example that uses non-default configuration options:</p>

<div class="source">
<pre><code class="language-xml">&lt;plugin&gt;
    &lt;groupId&gt;de.unentscheidbar&lt;/groupId&gt;
    &lt;artifactId&gt;migratedb-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;0.3.0&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;goals&gt;
                &lt;goal&gt;scan&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;!-- Also scan the project dependencies for resources --&gt;
                &lt;includeDependencies&gt;true&lt;/includeDependencies&gt;
                &lt;includes&gt;
                    &lt;!-- Our migrations live in these packages --&gt;
                    &lt;include&gt;com/foo/myapp/persistence/sql/migration&lt;/include&gt;
                    &lt;include&gt;com/foo/mylib/db/migrations&lt;/include&gt;
                &lt;/includes&gt;
                &lt;followSymlinks&gt;true&lt;/followSymlinks&gt;
                &lt;outputDirectory&gt;${/migratedb/classpath&lt;/outputDirectory&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
</code></pre></div>
<p>For this example, the corresponding MigrateDB configuration would have to be tweaked to work with the changed output
directory:</p>

<div class="source">
<pre><code class="language-java">MigrateDb.configure()
         .locations(&quot;classpath:migratedb/classpath&quot;)
</code></pre></div></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        This work is licensed under a
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
